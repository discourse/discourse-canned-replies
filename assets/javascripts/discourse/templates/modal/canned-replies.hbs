<DModalBody
  @title="canned_replies.insert.modal_title"
  @class="canned-replies-modal"
  @style="overflow: visible"
>
  <ConditionalLoadingSpinner @condition={{loadingReplies}}>
    <div class="details">
      <div class="reply-selector">
        <div class="selector">
          <ComboBox
            @id="canned-replies-combobox"
            @valueAttribute="id"
            @value={{selectedReplyId}}
            @nameProperty="title"
            @content={{replies}}
            @none="canned_replies.insert.choose"
          />
        </div>
      </div>

      {{#if selectedReply}}
        <div class="content">
          <div>{{cook-text selectedReply.content}}</div>
        </div>
      {{/if}}
    </div>
  </ConditionalLoadingSpinner>
</DModalBody>

<div class="modal-footer">
  {{#if canEdit}}
    <DButton
      class="pull-left canned-replies-new"
      @action={{action "newReply"}}
      @icon="plus"
      @label="canned_replies.insert.new_button"
    />
  {{/if}}

  {{#if selectedReply}}
    {{#if canEdit}}
      <DButton
        class="pull-left canned-replies-edit"
        @action={{action "editReply"}}
        @icon="pencil-alt"
        @label="canned_replies.insert.edit_button"
      />
    {{/if}}

    <DButton
      class="btn-primary pull-right canned-replies-apply"
      @action={{action "apply"}}
      @icon="far-clipboard"
      @label="canned_replies.insert.insert_button"
    />
  {{/if}}
</div>